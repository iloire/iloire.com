!function(){function e(e,a){return Math.floor(Math.random()*(a-e))+e}function a(a){return a[e(0,a.length)]}function t(e,a,t,n,i){v.beginPath(),v.fillStyle=i,v.fillRect(e,a,t,n)}function n(e,n,i,r,o){for(var s=0;n>s;)t(s,e,i,r,o||a(g)),s+=i,t(s,e,p,r,"#fff"),s+=p}function i(){for(var a=0;f>a;a++){var t=Math.random()*Math.PI*2,n=e(0,u),i=d+Math.cos(t)*n,o=c+Math.sin(t)*n,s=parseInt(i/(h+p)),g=parseInt(o/(h+p));r(s,g,l)}}function r(e,n,i){var r=e*(h+p),o=n*(h+p);t(r,o,h,h,a(i||g))}function o(e,a){for(var t=0;a>t;)n(t,e,h,h),t+=h,n(t,e,h,p,"#fff"),t+=p}function s(e){e.width=window.innerWidth,e.height=window.innerHeight}var d,c,l=["#fff9e6","#FBFBFB","#FAFAFA","#F7F7F7","F8F8F8","#f5f5f5","F9F9F9"],g=l,p=1,h=6,u=200,f=50,m=document.getElementById("c");document.onmousemove=function(e){d=e.pageX,c=e.pageY},window.addEventListener("resize",function(e){s(m)}),s(m);var v=m.getContext("2d");v.clearRect(0,0,m.width,m.height),o(m.width,m.height),setInterval(i,20)}(),define("image-preloader",function(){return{preload:function(e){for(var a=0;a<e.length;a++){var t=e[a];console.log("Preloading image "+t+" ...");var n=new Image;n.src=t}}}}),define("localStorage-cache",function(e){return{get:function(e){if("undefined"!=typeof Storage&&localStorage.getItem(e)){if(!(JSON.parse(localStorage.getItem(e)).expires<+new Date))return JSON.parse(localStorage.getItem(e)).data;localStorage.removeItem(e)}return null},set:function(e,a,t){"undefined"!=typeof Storage&&localStorage.setItem(e,JSON.stringify({data:a,expires:+new Date+1e3*t}))}}}),require(["jquery","gh","image-preloader"],function(e,a,t){function n(){var e=window.innerWidth;return e>g.min_window_width}function i(){if(n()){var a=window.innerWidth,t=0,i=a-g.left_margin_extra_content-t;h.css({top:e(window).scrollTop(),right:t,width:i+"px"})}else h.is(":visible")&&r()}function r(){h.fadeOut(800,function(){h.empty()})}function o(e){h.html(e),i()}function s(e,a,t,n){ga("send","event",e,a,t,n)}var d=!0,c="http://d13ry56xmap4ax.cloudfront.net";d&&(c="images");var l=[c+"/dgallery1.png",c+"/shipit24.jpg",c+"/linkedin.jpg",c+"/bitbucket.jpg",c+"/github.jpg",c+"/zaragoza.jpg",c+"/sydney.jpg",c+"/backbone-googlemaps.jpg",c+"/letsnode.jpg",c+"/atlasboard-01.jpg",c+"/math_race01.png",c+"/triatlonaragon.jpg",c+"/watchmen.png",c+"/directorio.jpg",c+"/2earth_01.png"],g={max_gh_projects:7,min_window_width:900,left_margin_extra_content:610,cache_duration_minutes:10},p={dgallery:'<div><img class="dropshadow" src="'+c+'/dgallery1.png"><span>dGallery, a sexy asp.net mvc photo gallery</span></div>',atlassian:'<div><img class="dropshadow" src="'+c+'/shipit24.jpg"></div>',linkedin:'<div><img class="dropshadow" src="'+c+'/linkedin.jpg"><span>Linkedin</span></div>',github:'<div><img class="dropshadow" src="'+c+'/github.jpg"><span>Github (@loire)</span></div>',map:'<div class="map-europe"><div class=pulse></div><div class=img-wrapper><img src="'+c+'/europe.svg"></div></div>',express:'<div><img src="'+c+'/express_js.png"></div>',math_race:'<div><img src="'+c+'/math_race02.png"></div>',fatri:'<div><img class="dropshadow" src="'+c+'/triatlonaragon.jpg"><span>Triatlhon regional association. I created and maintain the website</span></div>',"2earth":'<div><img src="'+c+'/2earth_01.png"></div>',watchmen:'<div><img class="dropshadow" src="'+c+'/watchmen.png"><span>A node.js service monitor. Source code available on GitHub</span></div>',directorio_cachirulo:'<div><img class="dropshadow" src="'+c+'/directorio.jpg"><span>Local freelance directory. Software created with node.js and redis. Available on GitHub</span></div>',letsnode:'<div><img class="dropshadow" src="'+c+'/letsnode.jpg"></div>',backbone_google_maps:'<div><img class="dropshadow" src="'+c+'/backbone-googlemaps.jpg"><span>Playing with Backbone.js and Google Maps..</span></div>',atlasboard:'<div><img class="dropshadow" src="'+c+'/atlasboard-01.jpg"><span>Atlasboard, simple and beautiful dashboards for everyone</span></div>'},h=e("#extrainfo"),u=null,f=function(){window.addEventListener("resize",i),window.onscroll=i,e("a.extra_content").mouseover(function(a){if(clearTimeout(u),n()){h.fadeIn();var t=e(this).attr("data-contentid");o(p[t]),s("general","mouseover",t)}}),e("a.extra_content").mouseout(function(e){u=setTimeout(r,1500)}),e("#extrainfo").on("mouseover",function(){clearTimeout(u)}),h.fadeIn(),o(p[0]);var d=document.getElementById("ghcontainer");d.innerHTML="loading...",a.getGitHubProjects("iloire",g,function(e){e.data.sort(function(e,a){return a.watchers-e.watchers});var a="";if(e.data.length){a="<ul>";for(var t=0,n=0;n<g.max_gh_projects&&t<e.data.length;t++){var i=e.data[t];i.fork||(a=a+'<li><span class="label label-warning watchers"><a title="watchers" target=_blank href="'+i.html_url+'/watchers">'+i.watchers+'</a></span> <span class="label label-info forks"><a title="forks" target=_blank href="'+i.html_url+'/network">'+i.forks+'</a></span>  <a class="gh-project" target=_blank href="'+i.html_url+'">'+i.name+'</a>: <span class="gh-project-description">'+i.description+"</span></li>",n++)}a+="</ul>"}else a="<p>No projects to show.</p>";d.innerHTML=a}),n()&&t.preload(l)};f()}),define("gh",["jquery","localStorage-cache"],function(e,a){var t={getGitHubProjects:function(t,n,i){var r=a.get("gh-feed");return r?i(JSON.parse(r)):void e.getJSON("https://api.github.com/users/"+t+"/repos?per_page=50&callback=?",function(e){i(e),a.set("gh-feed",JSON.stringify(e),60*n.cache_duration_minutes)})}};return t});